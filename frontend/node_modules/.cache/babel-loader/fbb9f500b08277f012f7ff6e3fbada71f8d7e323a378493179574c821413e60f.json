{"ast":null,"code":"import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\n\n// API'den sepeti çek\nexport const fetchBasket = createAsyncThunk('basket/fetchBasket', async () => {\n  const response = await fetch('/api/basket/');\n  return response.json();\n});\nconst basketSlice = createSlice({\n  name: 'basket',\n  initialState: {\n    items: [],\n    total: 0,\n    status: 'idle',\n    error: null\n  },\n  reducers: {\n    addItem: (state, action) => {\n      state.items.push(action.payload);\n      state.total += action.payload.total_price;\n    },\n    removeItem: (state, action) => {\n      state.items = state.items.filter(item => item.id !== action.payload.id);\n      state.total -= action.payload.total_price;\n    },\n    clearBasket: state => {\n      state.items = [];\n      state.total = 0;\n    }\n  },\n  extraReducers: builder => {\n    builder.addCase(fetchBasket.pending, state => {\n      state.status = 'loading';\n    }).addCase(fetchBasket.fulfilled, (state, action) => {\n      state.status = 'succeeded';\n      state.items = action.payload.items;\n      state.total = action.payload.checkout_price;\n    }).addCase(fetchBasket.rejected, (state, action) => {\n      state.status = 'failed';\n      state.error = action.error.message;\n    });\n  }\n});\nexport const {\n  addItem,\n  removeItem,\n  clearBasket\n} = basketSlice.actions;\nexport default basketSlice.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","fetchBasket","response","fetch","json","basketSlice","name","initialState","items","total","status","error","reducers","addItem","state","action","push","payload","total_price","removeItem","filter","item","id","clearBasket","extraReducers","builder","addCase","pending","fulfilled","checkout_price","rejected","message","actions","reducer"],"sources":["C:/Users/nazli/Desktop/Business/orbital/frontend/src/redux/slices/basketSlice.js"],"sourcesContent":["import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\r\n\r\n// API'den sepeti çek\r\nexport const fetchBasket = createAsyncThunk('basket/fetchBasket', async () => {\r\n  const response = await fetch('/api/basket/');\r\n  return response.json();\r\n});\r\n\r\nconst basketSlice = createSlice({\r\n  name: 'basket',\r\n  initialState: {\r\n    items: [],\r\n    total: 0,\r\n    status: 'idle',\r\n    error: null,\r\n  },\r\n  reducers: {\r\n    addItem: (state, action) => {\r\n      state.items.push(action.payload);\r\n      state.total += action.payload.total_price;\r\n    },\r\n    removeItem: (state, action) => {\r\n      state.items = state.items.filter((item) => item.id !== action.payload.id);\r\n      state.total -= action.payload.total_price;\r\n    },\r\n    clearBasket: (state) => {\r\n      state.items = [];\r\n      state.total = 0;\r\n    },\r\n  },\r\n  extraReducers: (builder) => {\r\n    builder\r\n      .addCase(fetchBasket.pending, (state) => {\r\n        state.status = 'loading';\r\n      })\r\n      .addCase(fetchBasket.fulfilled, (state, action) => {\r\n        state.status = 'succeeded';\r\n        state.items = action.payload.items;\r\n        state.total = action.payload.checkout_price;\r\n      })\r\n      .addCase(fetchBasket.rejected, (state, action) => {\r\n        state.status = 'failed';\r\n        state.error = action.error.message;\r\n      });\r\n  },\r\n});\r\n\r\nexport const { addItem, removeItem, clearBasket } = basketSlice.actions;\r\nexport default basketSlice.reducer;\r\n"],"mappings":"AAAA,SAASA,WAAW,EAAEC,gBAAgB,QAAQ,kBAAkB;;AAEhE;AACA,OAAO,MAAMC,WAAW,GAAGD,gBAAgB,CAAC,oBAAoB,EAAE,YAAY;EAC5E,MAAME,QAAQ,GAAG,MAAMC,KAAK,CAAC,cAAc,CAAC;EAC5C,OAAOD,QAAQ,CAACE,IAAI,CAAC,CAAC;AACxB,CAAC,CAAC;AAEF,MAAMC,WAAW,GAAGN,WAAW,CAAC;EAC9BO,IAAI,EAAE,QAAQ;EACdC,YAAY,EAAE;IACZC,KAAK,EAAE,EAAE;IACTC,KAAK,EAAE,CAAC;IACRC,MAAM,EAAE,MAAM;IACdC,KAAK,EAAE;EACT,CAAC;EACDC,QAAQ,EAAE;IACRC,OAAO,EAAEA,CAACC,KAAK,EAAEC,MAAM,KAAK;MAC1BD,KAAK,CAACN,KAAK,CAACQ,IAAI,CAACD,MAAM,CAACE,OAAO,CAAC;MAChCH,KAAK,CAACL,KAAK,IAAIM,MAAM,CAACE,OAAO,CAACC,WAAW;IAC3C,CAAC;IACDC,UAAU,EAAEA,CAACL,KAAK,EAAEC,MAAM,KAAK;MAC7BD,KAAK,CAACN,KAAK,GAAGM,KAAK,CAACN,KAAK,CAACY,MAAM,CAAEC,IAAI,IAAKA,IAAI,CAACC,EAAE,KAAKP,MAAM,CAACE,OAAO,CAACK,EAAE,CAAC;MACzER,KAAK,CAACL,KAAK,IAAIM,MAAM,CAACE,OAAO,CAACC,WAAW;IAC3C,CAAC;IACDK,WAAW,EAAGT,KAAK,IAAK;MACtBA,KAAK,CAACN,KAAK,GAAG,EAAE;MAChBM,KAAK,CAACL,KAAK,GAAG,CAAC;IACjB;EACF,CAAC;EACDe,aAAa,EAAGC,OAAO,IAAK;IAC1BA,OAAO,CACJC,OAAO,CAACzB,WAAW,CAAC0B,OAAO,EAAGb,KAAK,IAAK;MACvCA,KAAK,CAACJ,MAAM,GAAG,SAAS;IAC1B,CAAC,CAAC,CACDgB,OAAO,CAACzB,WAAW,CAAC2B,SAAS,EAAE,CAACd,KAAK,EAAEC,MAAM,KAAK;MACjDD,KAAK,CAACJ,MAAM,GAAG,WAAW;MAC1BI,KAAK,CAACN,KAAK,GAAGO,MAAM,CAACE,OAAO,CAACT,KAAK;MAClCM,KAAK,CAACL,KAAK,GAAGM,MAAM,CAACE,OAAO,CAACY,cAAc;IAC7C,CAAC,CAAC,CACDH,OAAO,CAACzB,WAAW,CAAC6B,QAAQ,EAAE,CAAChB,KAAK,EAAEC,MAAM,KAAK;MAChDD,KAAK,CAACJ,MAAM,GAAG,QAAQ;MACvBI,KAAK,CAACH,KAAK,GAAGI,MAAM,CAACJ,KAAK,CAACoB,OAAO;IACpC,CAAC,CAAC;EACN;AACF,CAAC,CAAC;AAEF,OAAO,MAAM;EAAElB,OAAO;EAAEM,UAAU;EAAEI;AAAY,CAAC,GAAGlB,WAAW,CAAC2B,OAAO;AACvE,eAAe3B,WAAW,CAAC4B,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}